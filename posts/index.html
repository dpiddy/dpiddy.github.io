<!doctype html><html><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Posts · Dan Peterson</title><link rel=stylesheet href=/css/rocinante.css><link rel=alternate type=application/rss+xml href=https://danp.net/posts/atom.xml title="Dan Peterson"><body><header><h2><a href=https://danp.net/>‹ Dan Peterson</a></h2></header><main><div class=combined-title-pagination><h1>Posts</h1></div><hr><article class=post-list><div class=title-group><div class=title><h1><a href=/posts/mapping-halifax-traffic-calming-requests/>Mapping Halifax Traffic Calming Requests</a></h1></div><div class=date><h5>Mar 03, 2021</h5></div></div class="title-group"><div class=content>Halifax has a systemic road safety problem. One way it manifests is people driving too fast, especially on residential streets.
Recently, Halifax Regional Council mostly approved their 2021 capital budget. It includes $1 million for traffic calming and the final budget may include $1 million more. Read more about that here or here.
The city publishes a ranked list of approved requests. Not all requests are approved due to rules that contribute to the systemic problem.</div><div class=read-more><a href=/posts/mapping-halifax-traffic-calming-requests/>Read more ›</a></div></article><article class=post-list><div class=title-group><div class=title><h1><a href=/posts/injecting-errors-to-test-idempotency/>Injecting errors to test idempotency</a></h1></div><div class=date><h5>Feb 24, 2016</h5></div></div class="title-group"><div class=content>As part of Heroku Private Spaces we attach extra Elastic Network Interfaces to instances, and we do that in Go with aws-sdk-go.
The process isn&rsquo;t the most idempotent and we recently discovered we were occasionally leaking ENIs. This could happen if we created an ENI and then encountered an error later in the process, such as when attaching it to an instance. I set out this morning to find a better way.</div><div class=read-more><a href=/posts/injecting-errors-to-test-idempotency/>Read more ›</a></div></article><article class=post-list><div class=title-group><div class=title><h1><a href=/posts/reducing-go-nesting/>Reducing nesting in Go functions with early returns</a></h1></div><div class=date><h5>Nov 02, 2015</h5></div></div class="title-group"><div class=content>One of my favorite localized Go refactorings is reducing nesting by using return as early as possible. Take this example, based on a recently-refactored function at Heroku:
func example() error { if err := start(); err != nil { existing, err := fetchExisting() if err != nil { return err } if existing.IsWorking() { return nil } else { return errors.New("found existing but it's not working") } } return nil } This can be hard to follow due to nesting inside if .</div><div class=read-more><a href=/posts/reducing-go-nesting/>Read more ›</a></div></article><article class=post-list><div class=title-group><div class=title><h1><a href=/posts/postgression-on-travis-ci/>Using postgression on Travis CI</a></h1></div><div class=date><h5>May 12, 2013</h5></div></div class="title-group"><div class=content>At Heroku we use Travis CI to run project tests on push to GitHub. While Travis CI offers PostgreSQL in their environment, it&rsquo;s version 9.1. A project I&rsquo;m working on recently started using PostgreSQL 9.2&rsquo;s JSON data type, which 9.1 does not have.
Needing 9.2, I searched for ways to make it available in the Travis CI environment. I found guides that suggested upgrading PostgreSQL in a before_script but I didn&rsquo;t have much luck with that approach.</div><div class=read-more><a href=/posts/postgression-on-travis-ci/>Read more ›</a></div></article><article class=post-list><div class=title-group><div class=title><h1><a href=/posts/introduction-to-ledger/>Introduction to Ledger</a></h1></div><div class=date><h5>Aug 28, 2011</h5></div></div class="title-group"><div class=content>Since July 30th, I&rsquo;ve been using ledger (on GitHub) to track my personal finances. What did I use before? I&rsquo;m ashamed to say nothing beyond my banks' sites.
I stumbled upon ledger via this blog post, linked from Hacker News. It took me a while to try it, for a few reasons. First, I had a weird notion that there would be a better time in my various &ldquo;fiscal cycles&rdquo; to start using such a thing.</div><div class=read-more><a href=/posts/introduction-to-ledger/>Read more ›</a></div></article><div class=paginator><a class="older disabled">« Older posts</a>
<a class="newer disabled">Newer posts »</a></div></main><footer></footer><script>const emailId=atob("")</script><script src=/js/rocinante.min.js></script></body></html>